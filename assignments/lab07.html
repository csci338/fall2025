<!doctype html>
<html lang="en">
    <head>
            <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/fall2025/assets/images/favicon.ico" type="image/x-icon">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <title>AsyncIO + MVC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="/fall2025/assets/main.css">
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163192686-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-163192686-1');
    </script>
    </head>
    <body class="two-column">
        <!-- banner -->
<header>
    <section>
        <h1 class="desktop"><a href="/fall2025/">CSCI 338: Fall 2025</a></h1>
        <h2 class="desktop">Software Engineering</h2>
        <a class="mobile" href="#">
            <i class="menu-toggle fas fa-bars"></i>
        </a>
        <h1 class="mobile">CSCI 338: Fall 2025</h1>
    </section>
    <img src="https://communication.unca.edu/wp-content/themes/tin/assets/logo.svg" />
</header>
        <nav>
    <ul>
        <li ><a href="/fall2025/syllabus/">Syllabus</a>
        </li>
        <li ><a
                href="/fall2025/">Schedule</a></li>
        <li class="active" ><a
                href="/fall2025/assignments/">Assignments</a></li>
        <li ><a
                href="/fall2025/resources/">Resources</a></li>
        <li ><a href="/fall2025/repos/">Repos</a>
        </li>
        <li><a href="https://drive.google.com/drive/folders/1iI-Iz85UpjGyuu9q_reuq4vT6hC4AEQq?usp=drive_link"
                target="_blank">Videos</a></li>
    </ul>
</nav>
        <main>
            <aside>
                
                
                <ol class="side-menu">
  <li><a href="#id_set-up">Set Up</a></li>
  <li><a href="#id_run-the-application">Run the Application</a></li>
  <li><a href="#id_mvc-architecture">MVC Architecture</a></li>
  <li><a href="#id_tasks">Tasks</a>
    <ol>
      <li><a href="#id_1-model-task">1. Model Task</a></li>
      <li><a href="#id_2-controller-task">2. Controller Task</a></li>
      <li><a href="#id_3-view-task">3. View Task</a></li>
    </ol>
  </li>
  <li><a href="#id_extra-tasks">Extra Tasks</a></li>
  <li><a href="#id_submission">Submission</a></li>
</ol>

            </aside>
            <article>
                

    
    <h1>
        <a href="../assignments/">Assignments</a> >
        Lab 7: AsyncIO + MVC
    </h1>
    
 
                <p>
    
        Due on Tue, 10/28 @ 11:59PM.
    
    
        6 Points.
    
    
</p>

<blockquote class="info">
  <p><a href="https://docs.google.com/presentation/d/1Phlll9bNNabM4nyGMQGWq4sEAW8w4Ncq/edit?usp=sharing&amp;ouid=113376576186080604800&amp;rtpof=true&amp;sd=true" target="_blank">Slides for today’s Lab</a></p>
</blockquote>

<h2 id="id_set-up">Set Up</h2>
<p>Get the latest code from <code class="language-plaintext highlighter-rouge">https://github.com/&lt;your_github_handle&gt;/class-exercises-fall2025</code> by syncing changes to your GitHub repo (click the “Sync Fork” button).</p>

<p>Then, on your local machine, make sure that all previous work is committed. Then:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout main
git pull
git checkout <span class="nt">-b</span> lab07-b
</code></pre></div></div>

<h2 id="id_run-the-application">Run the Application</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>poetry <span class="nb">install
cd </span>app
poetry run uvicorn server:app <span class="nt">--reload</span>
</code></pre></div></div>

<p>Visit <a href="http://127.0.0.1:8000?place_name=Asheville">http://127.0.0.1:8000?place_name=Asheville</a> to test the app.</p>

<h2 id="id_mvc-architecture">MVC Architecture</h2>
<p>This lab uses <strong>MVC (Model-View-Controller)</strong> pattern with FastAPI, AsyncIO, and Jinja templates:</p>

<ul>
  <li><strong>Model</strong> (<code class="language-plaintext highlighter-rouge">models.py</code>): Fetches data from APIs asynchronously</li>
  <li><strong>View</strong> (<code class="language-plaintext highlighter-rouge">templates/index.html</code>): Displays data using HTML templates</li>
  <li><strong>Controller</strong> (<code class="language-plaintext highlighter-rouge">server.py</code>): Handles HTTP requests and coordinates data flow</li>
</ul>

<p>The app uses <code class="language-plaintext highlighter-rouge">asyncio.gather()</code> to fetch multiple API responses concurrently, making it much faster than sequential requests.</p>

<h2 id="id_tasks">Tasks</h2>

<h3 id="id_1-model-task">1. Model Task</h3>
<p>Add a <code class="language-plaintext highlighter-rouge">get_dog_image()</code> function in <code class="language-plaintext highlighter-rouge">models.py</code> that fetches from “https://dog.ceo/api/breeds/image/random”</p>

<h3 id="id_2-controller-task">2. Controller Task</h3>
<p>Modify both <code class="language-plaintext highlighter-rouge">/</code> and <code class="language-plaintext highlighter-rouge">/api</code> endpoints in <code class="language-plaintext highlighter-rouge">server.py</code> to include <code class="language-plaintext highlighter-rouge">dog_data</code> from your new function</p>

<h3 id="id_3-view-task">3. View Task</h3>
<p>Add an <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code> element in <code class="language-plaintext highlighter-rouge">templates/index.html</code> to display the dog image. Use the double curly braces to output the correct value from the data.</p>

<h2 id="id_extra-tasks">Extra Tasks</h2>
<ul>
  <li>Format Wikipedia and Yelp data more nicely in the HTML template</li>
  <li>Add images from the APIs to make the display more engaging</li>
</ul>

<h2 id="id_submission">Submission</h2>
<p>Complete all three tasks, then:</p>
<ol>
  <li>Commit and push your <code class="language-plaintext highlighter-rouge">lab07-b</code> branch</li>
  <li>Create a pull request to <code class="language-plaintext highlighter-rouge">main</code></li>
  <li>Submit the PR link in Moodle</li>
</ol>

<p><strong>Resources:</strong></p>
<ul>
  <li><a href="https://fastapi.tiangolo.com/">FastAPI</a></li>
  <li><a href="https://jinja.palletsprojects.com/en/stable/templates/">Jinja Templates</a></li>
</ul>



            </article>  
        </main>
        <footer>
            <p>    
                Department of Computer Science, UNC Asheville
            </p>
        </footer>
        
        <script type="text/javascript" src="/fall2025/assets/js/main.js"></script>

<!-- <script>
    //little bit of a hack:
    const scrollLeft = () => {
        //console.log('scrollLeft');
        document.documentElement.scrollLeft = 0;
    };
    setTimeout(scrollLeft, 100);
</script> -->
        
        <script type="text/javascript" src="/fall2025/assets/js/scrollspy.js"></script>
        <script type="text/javascript" src="/fall2025/assets/js/expandable.js"></script>
    </body>
</html>